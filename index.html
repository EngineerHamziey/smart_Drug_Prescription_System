<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Drug Prescription System</title>
  
  <style>
    body {
      font-family: 'Helvetica Neue', Arial, sans-serif;
      background-color: #f0f4f8;
      margin: 0;
      padding: 0;
      line-height: 1.6;
      color: #333;
    }

    .heading {
      margin: 2rem 0;
      font-size: 2rem;
      color: #00796b;
      text-align: center;
      text-transform: uppercase;
    }

    .container {
      max-width: 40rem;
      margin: 2rem auto;
      padding: 2rem;
      background: #ffffff;
      border-radius: 1rem;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    }

    h1 {
      margin-bottom: 1.5rem;
      font-size: 2rem;
      color: #00796b;
      text-align: center;
    }

    form div {
      margin-bottom: 1.5rem;
    }

    label {
      display: block;
      margin-bottom: 0.5rem;
      font-size: 1.1rem;
      color: #555;
    }

    .answer-btn {
      display: inline-block;
      padding: 0.75rem 1.5rem;
      margin: 0.5rem;
      background-color: #00796b;
      color: #fff;
      border: none;
      border-radius: 0.5rem;
      cursor: pointer;
      font-size: 1rem;
      transition: background-color 0.3s ease;
      text-align: center;
    }

    .answer-btn:hover {
      background-color: #004d40;
    }

    .no-btn {
      background-color: #d32f2f;
    }

    .no-btn:hover {
      background-color: #b71c1c;
    }

    .submit-btn {
      display: block;
      width: 100%;
      padding: 1rem;
      background-color: #00796b;
      color: #fff;
      border: none;
      border-radius: 0.5rem;
      cursor: pointer;
      font-size: 1.2rem;
      font-weight: bold;
      text-transform: uppercase;
      transition: background-color 0.3s ease, box-shadow 0.3s ease;
      margin-top: 2rem;
    }

    .submit-btn:hover {
      background-color: #004d40;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }

    .submit-btn:focus {
      outline: none;
      box-shadow: 0 0 0 3px #81d4fa;
    }

    #prescriptionResult {
      margin-top: 2rem;
      padding: 2rem;
      background: #e0f7fa;
      border-radius: 1rem;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
      font-size: 1.1rem;
      line-height: 1.6;
      color: #004d40;
      text-align: left;
    }

    #prescriptionResult strong {
      color: #00796b;
    }

    input[type="number"] {
      width: calc(100% - 2rem);
      padding: 0.5rem;
      font-size: 1rem;
      border: 1px solid #ccc;
      border-radius: 0.5rem;
      box-sizing: border-box;
      margin-top: 0.5rem;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1 class="heading">Smart Drug Prescription System</h1>
    <form id="healthForm">
      <!-- Questions will be added dynamically here -->
    </form>
    <div id="prescriptionResult"></div>
    <button class="submit-btn" onclick="submitForm()">Get Prescription</button>
  </div>

  <script>
    const questions = [
      "Are you unable to sleep?",
      "Are you currently taking any medications prescribed by your doctor?",
      "Are you currently pregnant?", 
      "Do you have difficulty breathing?",
      "Do you have a cough?",
      "Do you have a headache?",
      "Do you have malaria?",
      "Are you experiencing fatigue?",
      "Are you experiencing any pain or discomfort in your abdomen?",
      "Is your energy level low these days?",
      "Have you noticed any changes in your appetite?",
      "Are you experiencing nausea or vomiting?",
      "What is your temperature in Celsius degrees?",
      "What is your heart rate in BPM?"
    ];

    const questionContainer = document.getElementById('healthForm');

    questions.forEach((question, index) => {
        const div = document.createElement('div');

        if (index >= 12) { // For temperature and heart rate questions
            div.innerHTML = `
                <label>${question}</label>
                <input type="number" id="q${index}" name="q${index}" step="0.1" required>
            `;
        } else {
            div.innerHTML = `
                <label>${question}</label>
                <input type="radio" id="q${index}yes" name="q${index}" value="yes">
                <label class="answer-btn" for="q${index}yes">Yes</label>
                <input type="radio" id="q${index}no" name="q${index}" value="no">
                <label class="answer-btn no-btn" for="q${index}no">No</label>
            `;
        }

        questionContainer.appendChild(div);
    });

    function getFormData() {
        const formData = {};
        questions.forEach((_, index) => {
            if (index >= 12) {
                formData[`q${index}`] = document.querySelector(`input[name="q${index}"]`)?.value || '';
            } else {
                formData[`q${index}`] = document.querySelector(`input[name="q${index}"]:checked`)?.value || 'no';
            }
        });
        return formData;
    }

    function submitForm() {
        const formData = getFormData();
        const prescription = generatePrescription(formData);
        document.getElementById('prescriptionResult').innerHTML = `<strong>Prescription:</strong><br>${prescription.replace(/\n/g, '<br>')}`;
    }

    function generatePrescription(formData) {
        let prescription = "Based on your responses, we recommend the following:";
        let prescribedDrugs = "";

        // Check responses for the first 12 questions
        if (formData['q0'] === 'yes') {
            prescribedDrugs += "\n- Take a sleeping pill like \"cenpain night\", Doxepin, Eszopiclone, Temazepam, etc.";
        }
        if (formData['q1'] === 'yes') {
            return "No drugs prescribed because of your current medications.\nContinue with your current medications and consider talking to your doctor to know if what you're feeling is a normal side effect.";
        }
        if (formData['q2'] === 'yes') {
            return "\n- Pregnancy is delicate; ensure to register for an antenatal program and attend regularly.\nHere are other recommendations:\n1. Maintain a balanced diet rich in vitamins and minerals.\n2. Get regular prenatal checkups.\n3. Stay hydrated and rest.";
        }
        if (formData['q3'] === 'yes') {
            prescribedDrugs += "\n- Lick menthol sweets like Shaltoux, Tom-Tom, etc., to clear your clogged nose. If it doesn't improve after 5 hours, or if your breathlessness isn't due to a clogged nose, consider seeing your doctor.";
        }
        if (formData['q4'] === 'yes') {
            prescribedDrugs += "\n- Consider using cough syrup like Tutolin, Coflin, Labocof, etc.\nConsult a healthcare professional if the cough persists.";
        }
        if (formData['q5'] === 'yes') {
            prescribedDrugs += "\n- Use medication like Paracetamol or Panadol Extra.\nIf the headache persists, you might need to see your doctor.";
        }
        if (formData['q6'] === 'yes') {
            prescribedDrugs += "\n- Use antimalarials like Amatem or Coartem. \nConsult a doctor if malaria persists after completing the recommended medications.";
        }
        if (formData['q7'] === 'yes') {
            prescribedDrugs += "\n- Use these drugs: Lapain tablet, Ibuprofen, Pentax, Panadol Extra, etc.\nIf you have an ulcer, use Orphesic tablet instead. \nDiscuss fatigue with a healthcare provider if it persists.";
        }
        if (formData['q8'] === 'yes') {
            prescribedDrugs += "\n- You may need an evaluation for abdominal pain or discomfort. Visit your doctor.";
        }
        if (formData['q9'] === 'yes') {
            prescribedDrugs += "\n- Consider taking a multivitamin supplement to boost energy levels. Rest and a balanced diet are also crucial.";
        }
        if (formData['q10'] === 'yes') {
            prescribedDrugs += "\n- Changes in appetite could signal an underlying health issue. Consider seeing a healthcare professional.";
        }
        if (formData['q11'] === 'yes') {
            prescribedDrugs += "\n- Use antiemetics like Domperidone or Ondansetron if you're experiencing nausea or vomiting.\nSeek medical attention if symptoms persist.";
        }

        // Check temperature and heart rate
        const temperature = parseFloat(formData['q12']);
        if (temperature >= 37.5) {
            prescribedDrugs += "\n- Your temperature suggests a fever. Consider taking Paracetamol and rest. Drink plenty of fluids. See a doctor if fever persists.";
        } else {
            prescribedDrugs += "\n- Your temperature seems normal.";
        }

        const heartRate = parseInt(formData['q13']);
        if (heartRate < 60) {
            prescribedDrugs += "\n- Your heart rate seems low. Consider seeing a doctor for further evaluation.";
        } else if (heartRate > 100) {
            prescribedDrugs += "\n- Your heart rate seems elevated. Rest and avoid stress. Consult a doctor if the high rate persists.";
        } else {
            prescribedDrugs += "\n- Your heart rate seems normal.";
        }

        return prescribedDrugs ? prescription + prescribedDrugs : "No specific prescription needed based on your responses.";
    }
  </script>
</body>
</html>
