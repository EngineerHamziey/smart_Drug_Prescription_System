<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Drug Prescription System</title>
  
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
      margin: 0;
      padding: 0;
      line-height: 1.4;
    }

    .heading {
      margin: 2rem 0;
    }

    .container {
      max-width: 50rem;
      margin: 2rem auto;
      padding: 1.5rem;
      background: #fff;
      border-radius: 0.5rem;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    h1 {
      text-align: center;
      margin-bottom: 1rem;
    }

    form div {
      margin-bottom: 1rem;
    }

    label {
      display: block;
      margin-bottom: 0.5rem;
    }

    .answer-btn {
      display: inline-block;
      padding: 0.75rem 1.5rem;
      margin: 0.5rem;
      background-color: #00796b;
      color: #fff;
      border: none;
      border-radius: 0.25rem;
      cursor: pointer;
      font-size: 1rem;
      text-align: center;
    }

    .answer-btn:hover {
      background-color: #004d40;
    }

    .no-btn {
      background-color: #d32f2f;
    }

    
    .no-btn:hover {
      background-color: #b71c1c;
    }

    #prescriptionResult {
      margin-top: 1rem;
      padding: 1rem;
      background: #e0f7fa;
      border-radius: 0.5rem;
    }

    button[type="submit"] {
      background-color: #00796b;
      color: #fff;
    }

    button[type="submit"]:hover {
      background-color: #004d40;
    }

    .submit-btn {
      display: block;
      width: 100%;
      padding: 0.75rem;
      background-color: #0288d1; /* A nice blue color */
      color: #fff;
      border: none;
      border-radius: 0.25rem;
      cursor: pointer;
      font-size: 1rem;
      font-weight: bold;
      text-transform: uppercase;
      transition: background-color 0.3s, box-shadow 0.3s;
    }

    .submit-btn:hover {
      background-color: #0277bd; /* Slightly darker blue on hover */
    }

    .submit-btn:active {
      background-color: #01579b; /* Even darker blue when pressed */
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
    }

    .submit-btn:focus {
      outline: none;
      box-shadow: 0 0 0 2px #81d4fa; /* A light blue outline for accessibility */
    }

    .temp-btn {
      margin-bottom: 2rem;
      display: block;
      width: 100%;
      padding: 0.75rem;
      background-color: #0288d1; /* A nice blue color */
      color: #fff;
      border: none;
      border-radius: 0.25rem;
      cursor: pointer;
      font-size: 1rem;
      font-weight: bold;
      text-transform: uppercase;
      transition: background-color 0.3s, box-shadow 0.3s;
    }

    .i-text {
      color: red;
    }

    
    .reading {
      font-size: 1rem;
      display: inline-block;
      margin: 0.5rem;
      text-align: center;
    }

    #timer {
      margin: 0;
      padding: 0;
      color: green;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1 class="heading">SMART DRUG PRESCRIPTION SYSTEM</h1>
    <form id="healthForm">
      <!-- Questions will be added dynamically here -->
    </form>
    <div id="prescriptionResult"></div>
    <button class="submit-btn" onclick="submitForm()">Submit</button>
  </div>

  <script>
    const questions = [
      "Are you unable to sleep?",
      "Are you currently taking any medications prescribed by your doctor?",
      "Are you currently pregnant?", 
      "Do you have difficulty breathing?",
      "Do you have a cough?",
      "Do you have headache",
      "Do you have malaria?",
      "Are you experiencing fatigue?",
      "Are you experiencing any pain or discomfort in your abdominal?",
      "Is your energy level low these days?",
      "Have you noticed any changes in your appetite?",
      "Are you experiencing nausea or vomiting?",
      "What is your temperature in Celsius degrees?",
      "What is your heart rate in BPM?"
    ];

    const questionContainer = document.getElementById('healthForm');

    questions.forEach((question, index) => {
        const div = document.createElement('div');

        if (index >= 12) { // For temperature and heart rate questions
            div.innerHTML = `
                <label>${question}</label><br>
                <input type="number" id="q${index}" name="q${index}" step="0.1" required><br><br>
            `;
        } else {
            div.innerHTML = `
                <label>${question}</label><br>
                <input type="radio" id="q${index}yes" name="q${index}" value="yes">
                <label class="answer-btn" for="q${index}yes">Yes</label>
                <input type="radio" id="q${index}no" name="q${index}" value="no">
                <label class="answer-btn no-btn" for="q${index}no">No</label>
                <br><br>
            `;
        }

        questionContainer.appendChild(div);
    });

    function getFormData() {
        const formData = {};
        questions.forEach((_, index) => {
            if (index >= 12) {
                formData[`q${index}`] = document.querySelector(`input[name="q${index}"]`)?.value || '';
            } else {
                formData[`q${index}`] = document.querySelector(`input[name="q${index}"]:checked`)?.value || 'no';
            }
        });
        return formData;
    }

    function submitForm() {
        const formData = getFormData();
        const prescription = generatePrescription(formData);
        document.getElementById('prescriptionResult').innerText = prescription;
    }

    function generatePrescription(formData) {
        let prescription = "Based on your responses, we recommend the following:";
        let prescribedDrugs = "";

        // Check responses for the first 12 questions
        if (formData['q0'] === 'yes') {
            prescribedDrugs += "\n- Take a sleeping pill like \"cenpain night\", Doxepin, Eszopiclone, Temazepam, etc.";
        }
        if (formData['q1'] === 'yes') {
            return "No drugs prescribed because of your current medications.\nContinue with your current medications and consider talking to your doctor to know if what you're feeling is a normal side effect.";
        }
        if (formData['q2'] === 'yes') {
            return "\n- Pregnancy is delicate; ensure to register for an antenatal program and attend regularly.\nHere are other recommendations:\n1. Maintain a balanced diet rich in vitamins and minerals.\n2. Get regular prenatal checkups.\n3. Stay hydrated and rest.";
        }
        if (formData['q3'] === 'yes') {
            prescribedDrugs += "\n- Lick menthol sweets like Shaltoux, Tom-Tom, etc., to clear your clogged nose. If it doesn't improve after 5 hours, or if your breathlessness isn't due to a clogged nose, consider seeing your doctor.";
        }
        if (formData['q4'] === 'yes') {
            prescribedDrugs += "\n- Consider using cough syrup like Tutolin, Coflin, Labocof, etc.\nConsult a healthcare professional if the cough persists.";
        }
        if (formData['q5'] === 'yes') {
            prescribedDrugs += "\n- Use medication like Paracetamol or Panadol Extra.\nIf the headache persists, you might need to see your doctor.";
        }
        if (formData['q6'] === 'yes') {
            prescribedDrugs += "\n- Use antimalarials like Amatem or Coartem. \nConsult a doctor if malaria persists after completing the recommended medications.";
        }
        if (formData['q7'] === 'yes') {
            prescribedDrugs += "\n- Use these drugs: Lapain tablet, Ibuprofen, Pentax, Panadol Extra, etc.\nIf you have an ulcer, use Orphesic tablet instead. \nDiscuss fatigue with a healthcare provider if it persists.";
        }
        if (formData['q8'] === 'yes') {
            prescribedDrugs += "\n- You may need an evaluation for abdominal pain or discomfort. Visit your doctor.";
        }
        if (formData['q9'] === 'yes') {
            prescribedDrugs += "\n- Ensure to eat a balanced diet to optimize your energy level. \nIf low energy persists, consult a nutritionist or doctor.";
        }
        if (formData['q10'] === 'yes') {
            prescribedDrugs += "\n- Seek medical attention for changes in appetite.";
        }
        if (formData['q11'] === 'yes') {
            prescribedDrugs += "\n- Consider taking Key lime (locally called Osan Wewe), Phenergan tablet, Avomine tablet, etc., for nausea or vomiting.";
        }

        // Check temperature (assuming formData['q12'] holds the temperature value)
        if (formData['q12']) {
            const temperature = parseFloat(formData['q12']);
            console.log(temperature);
            if (temperature >= 37.5) {
                prescribedDrugs += "\n- Your temperature is high. Consider taking Paracetamol to reduce fever. If it persists, see a doctor.";
            } else if (temperature < 36.0) {
                prescribedDrugs += "\n- Your temperature is low. Keep yourself warm and monitor your temperature. If it remains low, consult a doctor.";
            }
        }

        // Check heart rate (assuming formData['q13'] holds the heart rate value)
        if (formData['q13']) {
            const heartRate = parseInt(formData['q13']);
            console.log(heartRate);
            if (heartRate > 100) {
                prescribedDrugs += "\n- Your heart rate is high. Avoid caffeine and see a doctor if it remains elevated.";
            } else if (heartRate < 60) {
                prescribedDrugs += "\n- Your heart rate is low. If you feel dizzy or unwell, seek medical advice.";
            }
        }

        // If no specific drugs were prescribed
        if (prescribedDrugs === "") {
            prescribedDrugs = "\nNo specific drug recommendations. Kindly see your doctor.";
        }

        prescription += prescribedDrugs;

        return prescription;
    }
</script>

</body>
</html>
